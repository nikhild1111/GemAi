<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCQ Implementation Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .emoji-heading {
            font-size: 2rem;
            margin: 30px 0 15px 0;
            color: #2d3748;
            border-left: 5px solid #667eea;
            padding-left: 15px;
        }

        .step-1 { border-left-color: #667eea; }
        .step-2 { border-left-color: #48bb78; }
        .step-3 { border-left-color: #ed8936; }
        .step-4 { border-left-color: #9f7aea; }

        h3 {
            color: #e53e3e;
            font-size: 1.4rem;
            margin: 25px 0 15px 0;
            padding: 10px;
            background: #fff5f5;
            border-radius: 8px;
            border-left: 4px solid #e53e3e;
        }

        .problem {
            background: #fed7d7;
            border-left-color: #e53e3e;
        }

        .solution {
            background: #c6f6d5;
            border-left-color: #48bb78;
        }

        p {
            margin: 15px 0;
            color: #4a5568;
            font-size: 1.05rem;
        }

        .example-box {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
        }

        .example-label {
            position: absolute;
            top: -12px;
            left: 20px;
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: bold;
        }

        pre {
            background: #2d3748;
            color: #48bb78;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 15px 0;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        code {
            font-family: 'Courier New', monospace;
        }

        .check-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background: #f0fff4;
            border-radius: 8px;
        }

        .check-item::before {
            content: "‚úÖ";
            margin-right: 10px;
            font-size: 1.2rem;
        }

        .cross-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background: #fff5f5;
            border-radius: 8px;
        }

        .cross-item::before {
            content: "‚ùå";
            margin-right: 10px;
            font-size: 1.2rem;
        }

        .arrow {
            text-align: center;
            font-size: 1.5rem;
            color: #667eea;
            margin: 10px 0;
        }

        .highlight-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .highlight-box h4 {
            color: white;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .note {
            background: #fef5e7;
            border-left: 4px solid #f39c12;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .flow-step {
            background: #ebf8ff;
            border: 2px solid #4299e1;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            text-align: center;
            font-weight: bold;
            color: #2c5282;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 style="text-align: center; color: #667eea; font-size: 2.5rem; margin-bottom: 40px;">
            üìö Complete MCQ Implementation Guide
        </h1>

        <!-- STEP 1 -->
        <h2 class="emoji-heading step-1">1Ô∏è‚É£ Format Simple Prompt & Form Data (Current Backend)</h2>
        
        <p><strong>Right now, Gemini returns plain TEXT, not structured data.</strong></p>

        <div class="example-box">
            <div class="example-label">Example response from backend üëá</div>
            <pre><code>1. What is JavaScript?
A. Programming language
B. Database
C. Browser
D. Operating system

2. Which one is frontend library?
A. Node.js
B. MongoDB
C. React
D. MySQL

Answers:
1. A
2. C</code></pre>
        </div>

        <div class="note">
            <p>üëâ <strong>This is STRING (text)</strong></p>
            <p>üëâ <strong>Type = string</strong></p>
        </div>

        <!-- STEP 2 -->
        <h2 class="emoji-heading step-1">2Ô∏è‚É£ Why This TEXT Format is a Problem for Frontend ‚ùå</h2>

        <h3 class="problem">With text:</h3>

        <div class="cross-item">Hard to move next/back</div>
        <div class="cross-item">Hard to track selected options</div>
        <div class="cross-item">Hard to compare correct answers</div>
        <div class="cross-item">Hard to show result</div>

        <p style="margin-top: 20px; font-weight: bold; color: #e53e3e;">
            Frontend needs STRUCTURED DATA, not text.
        </p>

        <!-- STEP 3 -->
        <h2 class="emoji-heading step-2">3Ô∏è‚É£ BEST & CORRECT Format for Frontend ‚úÖ (JSON)</h2>

        <p><strong>Frontend works best with ARRAY OF OBJECTS.</strong></p>

        <h3 class="solution">‚úÖ Ideal format (JSON)</h3>

        <div class="example-box">
            <div class="example-label">Perfect Format</div>
            <pre><code>[
  {
    id: 1,
    question: "What is JavaScript?",
    options: {
      A: "Programming language",
      B: "Database",
      C: "Browser",
      D: "Operating system"
    },
    correctAnswer: "A"
  },
  {
    id: 2,
    question: "Which one is frontend library?",
    options: {
      A: "Node.js",
      B: "MongoDB",
      C: "React",
      D: "MySQL"
    },
    correctAnswer: "C"
  }
]</code></pre>
        </div>

        <div class="highlight-box">
            <h4>üëâ This format is perfect for:</h4>
            <div class="check-item" style="background: rgba(255,255,255,0.2);">Next / Back navigation</div>
            <div class="check-item" style="background: rgba(255,255,255,0.2);">Option selection</div>
            <div class="check-item" style="background: rgba(255,255,255,0.2);">Score calculation</div>
            <div class="check-item" style="background: rgba(255,255,255,0.2);">Showing correct & wrong answers</div>
        </div>

        <!-- STEP 4 -->
        <h2 class="emoji-heading step-3">4Ô∏è‚É£ How to FORMAT Data (2 Ways)</h2>

        <h3 class="solution">‚úÖ WAY 1 (BEST PRACTICE): Ask Gemini to return JSON directly</h3>

        <p><strong>üîπ Change your Gemini prompt like this:</strong></p>

        <div class="example-box">
            <div class="example-label">Updated Prompt</div>
            <pre><code>const prompt = `
Convert the text below into MCQs in JSON format ONLY.

Return array like:
[
  {
    "id": 1,
    "question": "",
    "options": {
      "A": "",
      "B": "",
      "C": "",
      "D": ""
    },
    "correctAnswer": "A"
  }
]

Text:
${extractedText}

IMPORTANT:
- Return ONLY JSON
- No explanation
`;</code></pre>
        </div>

        <p><strong>üîπ Gemini response will be üëá</strong></p>

        <div class="example-box">
            <div class="example-label">Gemini Response</div>
            <pre><code>[
  {
    "id": 1,
    "question": "What is JavaScript?",
    "options": {
      "A": "Programming language",
      "B": "Database",
      "C": "Browser",
      "D": "Operating system"
    },
    "correctAnswer": "A"
  }
]</code></pre>
        </div>

        <div class="check-item">Directly usable in frontend ‚úÖ</div>
        <div class="check-item">NO parsing needed</div>

        <!-- STEP 1: DATA FORMAT -->
        <h2 class="emoji-heading step-4">STEP 1: Decide DATA FORMAT (MOST IMPORTANT)</h2>

        <p><strong>üîπ Best format to handle MCQs in frontend</strong></p>

        <p>Instead of raw text, convert MCQs into JSON like this üëá</p>

        <div class="example-box">
            <div class="example-label">Data Structure</div>
            <pre><code>const questions = [
  {
    id: 1,
    question: "What is JavaScript?",
    options: {
      A: "Programming language",
      B: "Database",
      C: "Browser",
      D: "OS"
    },
    correctAnswer: "A"
  },
  {
    id: 2,
    question: "Which is frontend library?",
    options: {
      A: "Node.js",
      B: "MongoDB",
      C: "React",
      D: "MySQL"
    },
    correctAnswer: "C"
  }
];</code></pre>
        </div>

        <div class="note">
            <p>üëâ <strong>This format is easy to manage</strong></p>
            <p>üëâ <strong>You can move next / back / check answers</strong></p>
        </div>

        <!-- STEP 2: FRONTEND STATE -->
        <h2 class="emoji-heading step-2">üß† STEP 2: FRONTEND STATE (React)</h2>

        <div class="example-box">
            <div class="example-label">State Management</div>
            <pre><code>const [currentIndex, setCurrentIndex] = useState(0);
const [selectedAnswers, setSelectedAnswers] = useState({});
const [showResult, setShowResult] = useState(false);</code></pre>
        </div>

        <div class="highlight-box">
            <h4>Meaning:</h4>
            <p><strong>currentIndex</strong> ‚Üí which question user is on</p>
            <p><strong>selectedAnswers</strong> ‚Üí user selected options</p>
            <p><strong>showResult</strong> ‚Üí show final score or not</p>
        </div>

        <!-- STEP 3: SHOW CURRENT QUESTION -->
        <h2 class="emoji-heading step-3">üß† STEP 3: SHOW CURRENT QUESTION</h2>

        <div class="example-box">
            <div class="example-label">Display Question</div>
            <pre><code>const currentQuestion = questions[currentIndex];

&lt;h3&gt;{currentQuestion.question}&lt;/h3&gt;

{Object.entries(currentQuestion.options).map(([key, value]) => (
  &lt;label key={key}&gt;
    &lt;input
      type="radio"
      name="option"
      value={key}
      checked={selectedAnswers[currentIndex] === key}
      onChange={() =>
        setSelectedAnswers({
          ...selectedAnswers,
          [currentIndex]: key
        })
      }
    /&gt;
    {key}. {value}
  &lt;/label&gt;
))}</code></pre>
        </div>

        <div class="note">
            <p>üëâ <strong>User selects option</strong></p>
            <p>üëâ <strong>Selection is saved in selectedAnswers</strong></p>
        </div>

        <!-- STEP 4: NAVIGATION -->
        <h2 class="emoji-heading step-4">üß† STEP 4: NEXT & BACK BUTTONS</h2>

        <div class="example-box">
            <div class="example-label">Navigation</div>
            <pre><code>&lt;button
  disabled={currentIndex === 0}
  onClick={() => setCurrentIndex(currentIndex - 1)}
&gt;
  Back
&lt;/button&gt;

&lt;button
  disabled={currentIndex === questions.length - 1}
  onClick={() => setCurrentIndex(currentIndex + 1)}
&gt;
  Next
&lt;/button&gt;</code></pre>
        </div>

        <div class="check-item">User can move forward</div>
        <div class="check-item">User can go back</div>
        <div class="check-item">Selected answer stays saved</div>

        <!-- STEP 5: SUBMIT -->
        <h2 class="emoji-heading step-2">üß† STEP 5: SUBMIT & SHOW RESULT</h2>

        <div class="example-box">
            <div class="example-label">Submit Button</div>
            <pre><code>&lt;button onClick={() => setShowResult(true)}&gt;
  Submit
&lt;/button&gt;</code></pre>
        </div>

        <!-- STEP 6: CALCULATE SCORE -->
        <h2 class="emoji-heading step-3">üß† STEP 6: CALCULATE SCORE</h2>

        <div class="example-box">
            <div class="example-label">Score Calculation</div>
            <pre><code>const calculateScore = () => {
  let score = 0;

  questions.forEach((q, index) => {
    if (selectedAnswers[index] === q.correctAnswer) {
      score++;
    }
  });

  return score;
};</code></pre>
        </div>

        <!-- STEP 7: SHOW RESULT -->
        <h2 class="emoji-heading step-4">üß† STEP 7: SHOW FINAL RESULT (CORRECT / WRONG)</h2>

        <div class="example-box">
            <div class="example-label">Results Display</div>
            <pre><code>{showResult && (
  &lt;div&gt;
    &lt;h2&gt;Result&lt;/h2&gt;
    &lt;p&gt;
      Score: {calculateScore()} / {questions.length}
    &lt;/p&gt;

    {questions.map((q, index) => (
      &lt;div key={q.id}&gt;
        &lt;p&gt;{q.question}&lt;/p&gt;
        &lt;p&gt;
          Your Answer: {selectedAnswers[index] || "Not Answered"}
        &lt;/p&gt;
        &lt;p&gt;
          Correct Answer: {q.correctAnswer}
        &lt;/p&gt;
      &lt;/div&gt;
    ))}
  &lt;/div&gt;
)}</code></pre>
        </div>

        <div class="highlight-box">
            <h4>‚úî Shows:</h4>
            <p>‚úì User answer</p>
            <p>‚úì Correct answer</p>
            <p>‚úì Final score</p>
        </div>

        <!-- COMPLETE FLOW -->
        <h2 class="emoji-heading step-1">üß† COMPLETE FLOW (VERY IMPORTANT)</h2>

        <div class="flow-step">Backend sends MCQs</div>
        <div class="arrow">‚Üì</div>
        <div class="flow-step">Frontend stores in array</div>
        <div class="arrow">‚Üì</div>
        <div class="flow-step">Show one question at a time</div>
        <div class="arrow">‚Üì</div>
        <div class="flow-step">User selects option</div>
        <div class="arrow">‚Üì</div>
        <div class="flow-step">Next / Back navigation</div>
        <div class="arrow">‚Üì</div>
        <div class="flow-step">Submit</div>
        <div class="arrow">‚Üì</div>
        <div class="flow-step">Compare answers</div>
        <div class="arrow">‚Üì</div>
        <div class="flow-step">Show score + correct / wrong</div>

        <div style="text-align: center; margin-top: 40px; padding: 20px; background: #f7fafc; border-radius: 10px;">
            <h3 style="color: #667eea; background: none; border: none;">üéâ Implementation Complete!</h3>
            <p style="color: #2d3748;">Follow these steps to build a fully functional MCQ application</p>
        </div>
    </div>
</body>
</html>